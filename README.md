# Telegram Shop Bot (aiogram v3) ? ????????? ??????????

??? Telegram???? ???????? ? ??????? ?? ????, ????????????? ? ?????????? ????? ??????.
?????? **???????**: ???? ????? ????? ?????? ?????? ???? ???.

---

## ??? ????? ???

**????????????:**
- `/start` ? ??????????? ? ????? ??????
- ????? ?????? ? ????????? ? ???????? (A/B) ? ????????????? ? ?????? ???????
- ?????????? ? ???????
- ??????: ????????? ? ?????? ?? ???????? ? ???????? ???? ??????
- ????? ????????????? ?????? ???????: ?????? ?????? ? ?????? ??????/??????????
- ????????? ???????? **?????? ????? ?????? ???????**

**????? (????? ??????):**
- ???????? ????? (?????? ?? ?????)
- ????????????? ?????
- ????????????? ?????
- ???? ???????? A/B
- ??????? ??????? ????????????
- ??????
- ??? ????? ?????
- ?????? ?? ????????????? ?????
- ??????????

---

## ????? ??? ??????

?????? ????? ? **???????????**:
- `stock = 1`
- ????? ??????? ????? ?????????? **???????????**
- ?????? ????????????? ?? ???????????? ??? **???? ? ????????**

---

## ??????????

- Python 3.10+
- Windows PowerShell (??? ?????? ????)

---

## ?????????

```powershell
cd d:\botdone
python -m venv venv
.\venv\Scripts\activate
pip install aiogram aiosqlite
```

---

## ????????? .env

???? `.env` ??? ????????????.
??????:

```
BOT_TOKEN=???_?????_????
ADMIN_IDS=873275713
ADMIN_GROUP_ID=-1003777622502
```

**?????????:**
- `BOT_TOKEN` ? ????? ????????? ????
- `ADMIN_IDS` ? ?????? Telegram ID ??????? (????? ???????)
- `ADMIN_GROUP_ID` ? ID ???????????? (??? ?????? ???? ??? ???????)

---

## ??????

```powershell
python main.py
```

???? ??????? ? `logs/bot.log`.
???? SQLite ????? ? `data/shop.db`.

---

## ??? ???????????? (????????????)

1. `/start`
2. ??????? ????? ? ????????? ? ??????? ? ?????????????
3. ?????? ?? ????? (???? ???? ? ???????? ? ?????? ??????)
4. ??????? ??????? ? ???????? ? ????????
5. ????????? ???? ??????
6. ????? ????????????? ???????: ???????? ?????

????????? ???????? **?????? ????? ?????? ???????**:
- ???? ??????? ??? ? ??? ????? ?????????? ???????? ????? ?????? ???????/??????.?

---

## ????????? ????? ??????

**??? ????????:**
1. ???????????? ????? ? ????????? (????? ???????)
2. ??? ?????????? ????????? ? ????????????
3. ????? **???????? ???????** ? ??? ?????????? ????? ????????????

? ?????? ??? ??????????:
- user_id, username, first_name
- purchases_count
- ????? / ?????????
- ????? ????????????
- ????/???????? (???? ????)

???? ????? ??????? ??? reply ? ??? ???????:
```
????? ???????? ??????? ?? ????????? ?????????.
```

---

## ???????????? ? ??????

**???????:**
```
/admin
```

?????? ?????????? ????? ??????:
- ???????? ?????
- ????????????? ?????
- ????????????? ?????
- ???? ????????
- ??????? ???????
- ??????
- ??? ????? ?????
- ??????
- ??????????

---

## ??? ???????? ????? (?????!)

???? **????????????**:
1. ??????? ?????
2. ??????? ?????????
3. ??????? ??????? (A/B)
4. ??????? ?????????????
5. ????????? ????
6. ?????? ????????
7. ?????? ????????
8. ?????? ????
9. ?????? ??????? (?????? `1` ??? `-`)

---

## ??? ?????????? ???? ????? ??????

? ????????????:
1. ?????? **???? ????? ??????**
2. ?????? ID ??????

??? ???????:
- ??? ?????
- order_id
- ???? ???????

---

## ??? ???????? ???? ??????

????: `data/shop.db`

???????? ???????:
- `users`
- `cities`
- `areas`
- `products`
- `cart_items`
- `orders`
- `order_items`
- `payments`
- `reviews`
- `support_threads`

---

## ?????? ????????

**??? ?? ????? ????????? ?? ??????**
? ?????????, ??? ??? **?????** ??????.

**????????? ?? ???????????**
? ? ???????????? `purchases_count = 0`

**????? ???? ? ????????**
? ??? ?????? ?????? ?????????????

---

## ??????????

????? ?????????:
```powershell
python -m py_compile main.py app\config.py app\db\database.py app\handlers\user.py app\handlers\admin.py app\services\catalog.py
```

---

???? ????? ???????? ?????????? ? ?????? ?????.
